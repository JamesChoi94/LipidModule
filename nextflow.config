includeConfig 'config/schedulers.config'

process {
    withLabel:Query_GEO {
      cpus   = { 1 }
      memory = { 2.GB }
    }
    withLabel:Dump_FASTQ {
      cpus   = { 8 }
      memory = { 2.GB }
    }
    withLabel:Trim_Adapters {
      cpus   = { 8 }
      memory = { 2.GB }
    }
    withLabel:Raw_FastQC {
      cpus  = { 8 }
      memory = { 2.GB }
    }
    withLabel:Trimmed_FastQC {
      cpus  = { 8 }
      memory = { 2.GB }
    }
    withLabel:Build_Index {
      cpus  = { 8 }
    }
    withLabel:Align_Reads {
      cpus  = { 2 }
    }
}

profiles {
  condaLSF {
    process.conda = '/nethome/jsc228/miniconda3/envs/LipidModule'
  }
  condaLocal {
    process.conda = '/root/miniconda3/envs/LipidModule'
  }
}

params {
  testReads = "data/testdata/*_{1,2}.fastq"
  testGenomeFasta = "ref/testgenome.fa"
  testAnnotation = "ref/testAnnotation.gtf"

  samplesheet = "data/samplesheet.csv"
  dataDir = "data"
  genomeDir = "ref"
  genomeFasta = "ref/GRCm39.primary_assembly.genome.fa"
  annotationGTF = "ref/gencode.vM28.annotation.gtf"
  aligner = "STAR"
  
  readsDir = "data/rawdata"
  readsLength = 100
  trimmedReadsDir = "data/trimmed_reads"
  bamsDir = "data/STAR"

  queryGEODir = "results/QueryGEO"
  FastQCDir = "results/FastQC"
  BBdukDir = "results/BBDuk"

  publishmode = "copy"
  sleep = 1
  resultsDir = "results"
  saveFastq = false
  testFastq = "data/testdata/*.fastq"
}